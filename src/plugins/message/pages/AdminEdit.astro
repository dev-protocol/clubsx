---
import AdminForm from '../components/AdminForm.svelte'
import type { Membership } from '@plugins/memberships'
import type { GatedMessage } from '../types'
import type { ClubsPropsAdminPages } from '@devprotocol/clubs-core'

const { site } = Astro.params

const { forms, id, memberships, clubs } =
  Astro.props as ClubsPropsAdminPages & {
    forms: GatedMessage[]
    id: string
    memberships: Membership[]
  }
---

<div>
  <h1 class="mb-16 font-title text-lg font-bold">Gated form</h1>

  <AdminForm
    client:load
    currentPluginIndex={clubs.currentPluginIndex}
    memberships={memberships}
    forms={forms}
    id={id}
    site={site as string}
  />
</div>
