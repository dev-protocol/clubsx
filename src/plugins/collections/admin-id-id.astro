---
import CreateCollections from '@components/Collections/CreateCollections.svelte'
import type { Collection, CollectionMembership } from '@plugins/collections'
import type { ClubsPropsAdminPages } from '@devprotocol/clubs-core'
import type { Membership } from '@plugins/memberships'

const {
  membership,
  collection,
  existingMemberships = [],
  rpcUrl,
  propertyAddress,
  collections = [],
  name,
  clubs,
} = Astro.props as ClubsPropsAdminPages & {
  membership: CollectionMembership
  collection: Collection
  existingMemberships: Membership[]
  isTimeLimitedCollection: boolean
  rpcUrl: string
  propertyAddress: string
  collections: Collection[]
  name: string
}
---

<div>
  <h1 class="mb-[62px] font-title text-2xl font-bold">Your Clubs Store</h1>

  <CreateCollections
    client:only="svelte"
    mode="editMem"
    existingCollections={collections}
    collection={collection}
    existingMemberships={existingMemberships}
    clubName={name}
    currentPluginIndex={clubs.currentPluginIndex}
    propertyAddress={propertyAddress}
    rpcUrl={rpcUrl}
    membership={membership}
    isAdding={true}
    useOnFinishCallback={true}
  />
</div>
