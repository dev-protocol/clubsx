---
import HSButton from '@components/Primitives/Hashi/HSButton.vue'
import Step from '@components/Community/Step.vue'

import Step1 from '@assets/Step-1.png'
import Step2 from '@assets/Step-2.png'
import Step3 from '@assets/Step-3.png'
import Key from '@assets/key.png'

const { name, options } = Astro.props
const guildUrl =
  options.find(
    (option: { key: string; value: string }) => option.key === 'guildUrl',
  )?.value || 'https://guild.xyz/'
---

<div class="relative">
  <article>
    <section class="mb-6">
      <!-- DIGEST -->
      <h3 class="family-title mb-6 text-lg">Community</h3>
      <div
        class="community-digest grid place-items-center rounded-2xl px-10 py-20"
      >
        <h1 class="family-supertitle font-black uppercase md:text-2xl">
          We convene on Discord for collaboration, to share our vision, discuss
          future plans, and share our joy and excitement.
        </h1>
      </div>
    </section>
    <section>
      <h1 class="mb-6 font-title text-2xl font-bold">Do you have a key?</h1>
      <p class="mb-2 font-title text-lg">
        Memberships of {name} are open <a href="/join" class="text-lg underline"
          >here</a
        >, and it is also the key to joining the community.
      </p>
      <p class="mb-4 font-title text-lg">
        If you don't have a key, get the key now with $DEV or $ETH
      </p>
      <HSButton type="filled plox" link="/join">Join</HSButton>
    </section>
    <section class="my-6 h-[229px] overflow-hidden">
      <img
        class="h-full w-full rounded-2xl object-cover object-center"
        src={Key.src}
        alt="A picture of a chrome plated key"
      />
    </section>
    <section class="flex flex-col gap-4">
      <h1 class="mb-6 font-title text-2xl font-bold">
        Open the door to the community
      </h1>
      <Step step="1" label="Connect your wallet to guild.xyz" media={Step1.src}>
        <HSButton type="filled plox contained" link={guildUrl}>
          guild.xyz
        </HSButton>
      </Step>
      <Step step="2" label="Join our guild" media={Step2.src}>
        <HSButton type="filled plox contained" link={guildUrl}>
          guild.xyz
        </HSButton>
      </Step>
      <Step step="3" label="Open the invite link" media={Step3.src}>
        <HSButton type="filled plox contained" link={guildUrl}>
          guild.xyz
        </HSButton>
      </Step>
    </section>
  </article>

  <style lang="scss">
    .community-digest {
      /* eslint-disable no-eval */
      background: linear-gradient(
        -125deg,
        #261746 30%,
        #463537 52.78%,
        rgba(142, 93, 82, 0) 99.52%
      );
    }
  </style>
</div>
